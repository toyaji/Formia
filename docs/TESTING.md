# 🧪 Test Strategy

Formia의 안정성을 유지하기 위해 **Unit Tests**와 **E2E Tests**를 병행하는 하이브리드 테스트 전략을 사용합니다.

## 1. Unit Tests (단위 테스트)

단위 테스트는 로직의 최소 단위를 빠르게 검증하기 위해 사용합니다.

- **도구**: Vitest + JSDOM
- **대상**: 유틸리티 함수, 비즈니스 로직(Store), 독립적인 컴포넌트
- **실행**: `npm run test`
- **규칙**:
  - 복잡한 로직이나 데이터 변환이 포함된 모든 기능은 반드시 단위 테스트를 작성합니다.
  - 브라우저 API(`localStorage` 등)가 필요한 경우 `vi.mock`이나 JSDOM 환경을 활용합니다.

## 2. E2E Tests (엔드 투 엔드 테스트)

E2E 테스트는 실제 사용자 flows를 검증하며, 특히 여러 컴포넌트와 상태가 상호작용하는 흐름을 보호합니다.

- **도구**: Playwright (Headless 모드 기본)
- **대상**: 워크스페이스(대시보드) 진입, 폼 생성/삭제, 편집기 상호작용 등
- **실행**: `npx playwright test`
- **규칙**:
  - 새로운 기능(페이지) 추가 시 핵심 시나리오에 대한 E2E 테스트를 최소 하나 이상 포함합니다.
  - **Headless 모드**를 사용하여 개발 중에도 빠르게 실행될 수 있도록 유지합니다.

## 3. 테스트 요건

- **명령**: `feat` 또는 `fix` PR을 제출할 때 관련 테스트 코드가 포함되어 있어야 합니다.
- **안전 브랜치**: 테스트가 통과되지 않는 코드는 `main` 브랜치에 병합될 수 없습니다.
